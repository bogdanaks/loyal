---
import { Image } from "astro:assets"
import ChevronDown from "shared/assets/icons/chevron-down.svg"
---

<section class="py-8">
  <h2 class="text-2xl font-semibold">Часто задаваемые вопросы</h2>
  <p>Быстрые ответы на вопросы, которые могут у вас возникнуть.</p>
  <ul class="mt-4 w-full">
    <li id="faq-li" class="flex flex-col w-full border-b-2 border-b-slate-100 py-4 cursor-pointer">
      <div class="flex flex-row items-center justify-between">
        <span class="text-xl">Что такое Баллами?</span>
        <Image
          id="arrow"
          class="transition-transform rotate-0 -z-10"
          src={ChevronDown}
          alt="Arrow"
          loading="eager"
        />
      </div>
      <span id="answer" class="hidden">Ответ на вопрос</span>
    </li>
    <li id="faq-li" class="flex flex-col w-full border-b-2 border-b-slate-100 py-4 cursor-pointer">
      <div class="flex flex-row items-center justify-between">
        <span class="text-xl">Что такое Баллами?</span>
        <Image
          id="arrow"
          class="transition-transform rotate-0 -z-10"
          src={ChevronDown}
          alt="Arrow"
          loading="eager"
        />
      </div>
      <span id="answer" class="hidden">Ответ на вопрос</span>
    </li>
    <li id="faq-li" class="flex flex-col w-full border-b-2 border-b-slate-100 py-4 cursor-pointer">
      <div class="flex flex-row items-center justify-between">
        <span class="text-xl">Что такое Баллами?</span>
        <Image
          id="arrow"
          class="transition-transform rotate-0 -z-10"
          src={ChevronDown}
          alt="Arrow"
          loading="eager"
        />
      </div>
      <span id="answer" class="hidden">Ответ на вопрос</span>
    </li>
    <li id="faq-li" class="flex flex-col w-full border-b-2 border-b-slate-100 py-4 cursor-pointer">
      <div class="flex flex-row items-center justify-between">
        <span class="text-xl">Что такое Баллами?</span>
        <Image
          id="arrow"
          class="transition-transform rotate-0 -z-10"
          src={ChevronDown}
          alt="Arrow"
          loading="eager"
        />
      </div>
      <span id="answer" class="hidden">Ответ на вопрос</span>
    </li>
    <li id="faq-li" class="flex flex-col w-full border-b-2 border-b-slate-100 py-4 cursor-pointer">
      <div class="flex flex-row items-center justify-between">
        <span class="text-xl">Что такое Баллами?</span>
        <Image
          id="arrow"
          class="transition-transform rotate-0 -z-10"
          src={ChevronDown}
          alt="Arrow"
          loading="eager"
        />
      </div>
      <span id="answer" class="hidden">Ответ на вопрос</span>
    </li>
  </ul>
</section>

<script>
  const faqs = document.querySelectorAll("#faq-li")
  // console.log("faqs", faqs)

  faqs.forEach((faqEl) => {
    const answer = faqEl.querySelector("#answer")
    const arrow = faqEl.querySelector("#arrow")

    faqEl.addEventListener("click", () => {
      if (answer?.classList.contains("visible")) {
        answer?.classList.replace("visible", "hidden")
        arrow?.classList.replace("rotate-180", "rotate-0")
      } else {
        answer?.classList.replace("hidden", "visible")
        arrow?.classList.replace("rotate-0", "rotate-180")
      }
    })
  })
</script>
